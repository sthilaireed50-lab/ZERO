-- BLOX FRUITS ORIGINAL SCRIPT - CREADO DESDE CERO
-- Hecho especÃ­ficamente para Delta Executor

local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local VirtualInput = game:GetService("VirtualInputManager")

-- Variables principales
local Player = Players.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
local HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")
local Humanoid = Character:WaitForChild("Humanoid")

-- Sistema de configuraciÃ³n ORIGINAL
local Settings = {
    -- Farm
    AutoFarm = false,
    FarmDistance = 30,
    SelectedNPC = "Bandit",
    
    -- Player
    WalkSpeed = 50,
    JumpPower = 50,
    FlySpeed = 100,
    
    -- Combat
    AutoClick = false,
    AutoSkill = false,
    ClickDelay = 0.1,
    
    -- Misc
    AntiAFK = true,
    NoClip = false,
    FullBright = false,
    
    -- Visual
    EspPlayers = false,
    EspNPCs = false,
    Tracer = false
}

-- Lista de NPCs ORIGINAL
local NPCList = {
    "Bandit",
    "Monkey",
    "Gorilla",
    "Pirate",
    "Brute",
    "Snow Bandit",
    "Desert Bandit",
    "Marine",
    "Chief Petty Officer"
}

-- FunciÃ³n ORIGINAL para encontrar NPC
local function FindNearestNPC()
    local nearestNPC = nil
    local shortestDistance = math.huge
    
    -- Buscar en Enemies
    for _, npc in pairs(Workspace.Enemies:GetChildren()) do
        if npc:FindFirstChild("Humanoid") and npc.Humanoid.Health > 0 then
            if npc:FindFirstChild("HumanoidRootPart") then
                local distance = (HumanoidRootPart.Position - npc.HumanoidRootPart.Position).Magnitude
                if distance < shortestDistance and distance < Settings.FarmDistance then
                    shortestDistance = distance
                    nearestNPC = npc
                end
            end
        end
    end
    
    -- Buscar en NPCs
    for _, npc in pairs(Workspace.NPCs:GetChildren()) do
        if npc:FindFirstChild("Humanoid") and npc.Humanoid.Health > 0 then
            if npc:FindFirstChild("HumanoidRootPart") then
                local distance = (HumanoidRootPart.Position - npc.HumanoidRootPart.Position).Magnitude
                if distance < shortestDistance and distance < Settings.FarmDistance then
                    shortestDistance = distance
                    nearestNPC = npc
                end
            end
        end
    end
    
    return nearestNPC
end

-- Sistema de Auto Farm ORIGINAL
local AutoFarmThread
local function StartAutoFarm()
    if AutoFarmThread then
        task.cancel(AutoFarmThread)
    end
    
    AutoFarmThread = task.spawn(function()
        while Settings.AutoFarm do
            task.wait(0.3)
            
            pcall(function()
                local npc = FindNearestNPC()
                
                if npc and npc:FindFirstChild("HumanoidRootPart") then
                    -- Teleport al NPC
                    HumanoidRootPart.CFrame = CFrame.new(
                        npc.HumanoidRootPart.Position + Vector3.new(0, 5, -10)
                    )
                    
                    -- Atacar
                    if Settings.AutoClick then
                        VirtualInput:SendMouseButtonEvent(0, 0, 0, true, game, 0)
                        task.wait(0.05)
                        VirtualInput:SendMouseButtonEvent(0, 0, 0, false, game, 0)
                    end
                    
                    -- Usar habilidades
                    if Settings.AutoSkill then
                        VirtualInput:SendKeyEvent(true, "Z", false, game)
                        task.wait(0.1)
                        VirtualInput:SendKeyEvent(false, "Z", false, game)
                        
                        task.wait(0.2)
                        
                        VirtualInput:SendKeyEvent(true, "X", false, game)
                        task.wait(0.1)
                        VirtualInput:SendKeyEvent(false, "X", false, game)
                    end
                end
            end)
        end
    end)
end

-- Sistema de Auto Click ORIGINAL
local AutoClickThread
local function StartAutoClick()
    if AutoClickThread then
        task.cancel(AutoClickThread)
    end
    
    AutoClickThread = task.spawn(function()
        while Settings.AutoClick do
            VirtualInput:SendMouseButtonEvent(0, 0, 0, true, game, 0)
            task.wait(Settings.ClickDelay)
            VirtualInput:SendMouseButtonEvent(0, 0, 0, false, game, 0)
            task.wait(Settings.ClickDelay)
        end
    end)
end

-- Sistema Anti-AFK ORIGINAL
if Settings.AntiAFK then
    local VirtualUser = game:GetService("VirtualUser")
    Player.Idled:Connect(function()
        VirtualUser:CaptureController()
        VirtualUser:ClickButton2(Vector2.new(0, 0))
    end)
end

-- Sistema NoClip ORIGINAL
local NoClipConnection
local function ToggleNoClip(value)
    if NoClipConnection then
        NoClipConnection:Disconnect()
        NoClipConnection = nil
    end
    
    if value then
        NoClipConnection = RunService.Stepped:Connect(function()
            pcall(function()
                for _, part in pairs(Character:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
            end)
        end)
    end
end

-- Sistema FullBright ORIGINAL
local function ToggleFullBright(value)
    if value then
        game:GetService("Lighting").Brightness = 2
        game:GetService("Lighting").ClockTime = 14
        game:GetService("Lighting").FogEnd = 100000
        game:GetService("Lighting").GlobalShadows = false
    else
        game:GetService("Lighting").Brightness = 1
        game:GetService("Lighting").ClockTime = 14
        game:GetService("Lighting").FogEnd = 1000
        game:GetService("Lighting").GlobalShadows = true
    end
end

-- Sistema ESP ORIGINAL
local ESPBoxes = {}
local function ToggleESPPlayers(value)
    if value then
        for _, otherPlayer in pairs(Players:GetPlayers()) do
            if otherPlayer ~= Player then
                local character = otherPlayer.Character
                if character then
                    local box = Instance.new("BoxHandleAdornment")
                    box.Name = "ESP_" .. otherPlayer.Name
                    box.Adornee = character:FindFirstChild("HumanoidRootPart")
                    box.AlwaysOnTop = true
                    box.ZIndex = 10
                    box.Size = Vector3.new(4, 6, 1)
                    box.Color3 = Color3.fromRGB(0, 255, 0)
                    box.Transparency = 0.5
                    box.Parent = character:FindFirstChild("HumanoidRootPart")
                    
                    ESPBoxes[otherPlayer.Name] = box
                end
            end
        end
    else
        for name, box in pairs(ESPBoxes) do
            box:Destroy()
        end
        ESPBoxes = {}
    end
end

-- ============================================
-- INTERFAZ GRÃFICA ORIGINAL
-- ============================================

-- Crear interfaz simple sin librerÃ­as externas
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "BloxFruitsHub"
ScreenGui.Parent = game:GetService("CoreGui")

-- Marco principal
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 400, 0, 500)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -250)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
MainFrame.BorderSizePixel = 0
MainFrame.Parent = ScreenGui

-- TÃ­tulo
local Title = Instance.new("TextLabel")
Title.Name = "Title"
Title.Size = UDim2.new(1, 0, 0, 40)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Text = "ðŸŽ® BLOX FRUITS HUB ORIGINAL"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.Parent = MainFrame

-- BotÃ³n cerrar
local CloseButton = Instance.new("TextButton")
CloseButton.Name = "CloseButton"
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -35, 0, 5)
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.Text = "X"
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextSize = 14
CloseButton.Parent = MainFrame

CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- Crear funciÃ³n para agregar opciones
local yOffset = 50
local function AddToggle(name, settingKey, description)
    local toggleFrame = Instance.new("Frame")
    toggleFrame.Name = name .. "Frame"
    toggleFrame.Size = UDim2.new(1, -20, 0, 30)
    toggleFrame.Position = UDim2.new(0, 10, 0, yOffset)
    toggleFrame.BackgroundTransparency = 1
    toggleFrame.Parent = MainFrame
    
    local toggleButton = Instance.new("TextButton")
    toggleButton.Name = name .. "Toggle"
    toggleButton.Size = UDim2.new(0, 100, 0, 25)
    toggleButton.Position = UDim2.new(0, 0, 0, 0)
    toggleButton.BackgroundColor3 = Settings[settingKey] and Color3.fromRGB(0, 170, 0) or Color3.fromRGB(170, 0, 0)
    toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    toggleButton.Text = name .. ": " .. (Settings[settingKey] and "ON" or "OFF")
    toggleButton.Font = Enum.Font.Gotham
    toggleButton.TextSize = 12
    toggleButton.Parent = toggleFrame
    
    local descLabel = Instance.new("TextLabel")
    descLabel.Name = name .. "Desc"
    descLabel.Size = UDim2.new(0, 270, 0, 25)
    descLabel.Position = UDim2.new(0, 110, 0, 0)
    descLabel.BackgroundTransparency = 1
    descLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    descLabel.Text = description
    descLabel.Font = Enum.Font.Gotham
    descLabel.TextSize = 11
    descLabel.TextXAlignment = Enum.TextXAlignment.Left
    descLabel.Parent = toggleFrame
    
    toggleButton.MouseButton1Click:Connect(function()
        Settings[settingKey] = not Settings[settingKey]
        toggleButton.BackgroundColor3 = Settings[settingKey] and Color3.fromRGB(0, 170, 0) or Color3.fromRGB(170, 0, 0)
        toggleButton.Text = name .. ": " .. (Settings[settingKey] and "ON" or "OFF")
        
        -- Ejecutar funciÃ³n asociada
        if settingKey == "AutoFarm" then
            if Settings.AutoFarm then
                StartAutoFarm()
            else
                if AutoFarmThread then
                    task.cancel(AutoFarmThread)
                end
            end
        elseif settingKey == "AutoClick" then
            if Settings.AutoClick then
                StartAutoClick()
            else
                if AutoClickThread then
                    task.cancel(AutoClickThread)
                end
            end
        elseif settingKey == "NoClip" then
            ToggleNoClip(Settings.NoClip)
        elseif settingKey == "FullBright" then
            ToggleFullBright(Settings.FullBright)
        elseif settingKey == "EspPlayers" then
            ToggleESPPlayers(Settings.EspPlayers)
        end
    end)
    
    yOffset = yOffset + 35
end

-- Agregar todas las opciones
AddToggle("Auto Farm", "AutoFarm", "Farm automÃ¡tico de NPCs")
AddToggle("Auto Click", "AutoClick", "Click automÃ¡tico cada " .. Settings.ClickDelay .. "s")
AddToggle("Auto Skill", "AutoSkill", "Usar habilidades Z y X automÃ¡ticamente")
AddToggle("No Clip", "NoClip", "Atravesar paredes y objetos")
AddToggle("Full Bright", "FullBright", "MÃ¡xima iluminaciÃ³n en el mapa")
AddToggle("ESP Players", "EspPlayers", "Ver jugadores a travÃ©s de paredes")
AddToggle("ESP NPCs", "EspNPCs", "Ver NPCs a travÃ©s de paredes")
AddToggle("Anti AFK", "AntiAFK", "Evitar desconexiÃ³n por inactividad")

-- Ajustar tamaÃ±o del marco
MainFrame.Size = UDim2.new(0, 400, 0, yOffset + 20)

-- Configurar WalkSpeed y JumpPower
Humanoid.WalkSpeed = Settings.WalkSpeed
Humanoid.JumpPower = Settings.JumpPower

-- NotificaciÃ³n inicial
print("========================================")
print("ðŸŽ® BLOX FRUITS HUB ORIGINAL")
print("ðŸ”¥ Creado desde cero - No copiado")
print("ðŸ‘¤ Player: " .. Player.Name)
print("ðŸƒâ€â™‚ï¸ WalkSpeed: " .. Settings.WalkSpeed)
print("ðŸ¦˜ JumpPower: " .. Settings.JumpPower)
print("========================================")

-- FunciÃ³n para abrir/cerrar menÃº
local UserInputService = game:GetService("UserInputService")
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if input.KeyCode == Enum.KeyCode.RightControl then
        MainFrame.Visible = not MainFrame.Visible
    end
end)

-- Mensaje de ayuda
print("Presiona RIGHT CONTROL para mostrar/ocultar el menÃº")
